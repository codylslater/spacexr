"0","### Load in/preprocess your data, this might vary based on your file type"
"0","refdir <- system.file(""extdata"",'Reference/Vignette',package = 'spacexr') # directory for the reference"
"0","counts <- read.csv(file.path(refdir,""dge.csv"")) # load in counts matrix"
"0","rownames(counts) <- counts[,1]; counts[,1] <- NULL # Move first column to rownames"
"0","meta_data <- read.csv(file.path(refdir,""meta_data.csv"")) # load in meta_data (barcodes, clusters, and nUMI)"
"0","cell_types <- meta_data$cluster; names(cell_types) <- meta_data$barcode # create cell_types named list"
"0","cell_types <- as.factor(cell_types) # convert to factor data type"
"0","nUMI <- meta_data$nUMI; names(nUMI) <- meta_data$barcode # create nUMI named list"
"0",""
"0","### Create the Reference object"
"0","reference <- Reference(counts, cell_types, nUMI)"
"2","Warning in Reference(counts, cell_types, nUMI) :"
"2","
 "
"2"," Reference: nUMI does not match colSums of counts. If this is unintended, please correct this discrepancy. If this is intended, there is no problem.
"
"0","## Examine reference object (optional)"
"0","print(dim(reference@counts)) #observe Digital Gene Expression matrix"
"1","[1]"
"1"," 384"
"1"," 475"
"1","
"
"0","table(reference@cell_types) #number of occurences for each cell type"
"1","
"
"1"," 1 "
"1"," 2 "
"1"," 3 "
"1"," 4 "
"1"," 5 "
"1"," 6 "
"1"," 7 "
"1"," 8 "
"1"," 9 "
"1","10 "
"1","11 "
"1","12 "
"1","13 "
"1","14 "
"1","15 "
"1","16 "
"1","17 "
"1","18 "
"1","19 "
"1","
"
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","25 "
"1","
"
"0","## Save RDS object (optional)"
"0","saveRDS(reference, file.path(refdir,'SCRef.rds'))"
